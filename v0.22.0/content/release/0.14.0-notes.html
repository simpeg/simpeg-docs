

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SimPEG 0.14.0 Release Notes &#8212; SimPEG 0.22.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=45118af6" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=2ea346ab"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script data-domain="docs.simpeg.xyz" defer="defer" src="https://plausible.io/js/script.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/release/0.14.0-notes';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.14.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://docs.simpeg.xyz/latest/_static/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.22.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="icon" href="../../_static/logo-block.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="SimPEG 0.14.1 Release Notes" href="0.14.1-notes.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>

<meta name="description" content="Simulation and Parameter Estimation in Geophysics">
<meta name="author" content="SimPEG Developers">
<meta name="keywords" content="python, geophysics, inversion, electromagnetics, magnetotellurics, magnetics, gravity, DC, flow inverse problems, open source, finite volume">


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/simpeg-logo.png" class="logo__image only-light" alt="SimPEG 0.22.0 documentation - Home"/>
    <script>document.write(`<img src="../../_static/simpeg-logo.png" class="logo__image only-dark" alt="SimPEG 0.22.0 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Release Notes
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://simpeg.xyz/user-tutorials">
                    User Tutorials
                  </a>
                </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                <li class="nav-item">
                  <a class="nav-link dropdown-item nav-external" href="https://simpeg.xyz">
                    SimPEG
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link dropdown-item nav-external" href="https://mattermost.softwareunderground.org/simpeg">
                    Contact
                  </a>
                </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/simpeg/simpeg" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://mattermost.softwareunderground.org/simpeg" title="Mattermost" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-comment fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Mattermost</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://simpeg.discourse.group/" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-discourse fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Discourse</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/geoscixyz" title="Youtube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-youtube fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Youtube</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Release Notes
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://simpeg.xyz/user-tutorials">
                    User Tutorials
                  </a>
                </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                <li class="nav-item">
                  <a class="nav-link dropdown-item nav-external" href="https://simpeg.xyz">
                    SimPEG
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link dropdown-item nav-external" href="https://mattermost.softwareunderground.org/simpeg">
                    Contact
                  </a>
                </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/simpeg/simpeg" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://mattermost.softwareunderground.org/simpeg" title="Mattermost" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-comment fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Mattermost</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://simpeg.discourse.group/" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-discourse fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Discourse</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/geoscixyz" title="Youtube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-youtube fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Youtube</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="0.22.0-notes.html">0.22.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.21.1-notes.html">0.21.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.21.0-notes.html">0.21.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.20.0-notes.html">0.20.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.19.0-notes.html">0.19.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.18.1-notes.html">0.18.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.18.0-notes.html">0.18.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.17.0-notes.html">0.17.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.16.0-notes.html">0.16.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.15.2-notes.html">0.15.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.15.1-notes.html">0.15.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.15.0-notes.html">0.15.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.14.3-notes.html">0.14.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.14.2-notes.html">0.14.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.14.1-notes.html">0.14.1</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">0.14.0</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Release Notes</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">SimPEG...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="simpeg-0-14-0-release-notes">
<span id="notes"></span><h1>SimPEG 0.14.0 Release Notes<a class="headerlink" href="#simpeg-0-14-0-release-notes" title="Permalink to this heading">#</a></h1>
<p>May 27th, 2020</p>
<p>This release marks a major change in the structure of SimPEG, and it all started
with this,</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/562">#562</a>: What’s the problem with <code class="docutils literal notranslate"><span class="pre">Problem</span></code>?</p></li>
</ul>
<p>We hope to answer that question with this release!</p>
<p>This release will break backward compatibility as many modules and classes have
been renamed. Check out the <span class="xref std std-ref">sphx_glr_content_examples</span> to see how it’s done.</p>
<p>We are also only supporting Python versions &gt;=3.6 at this time. We have dropped all
testing and development on Python versions previous to this (especially
2.7).</p>
<section id="highlights">
<h2>Highlights<a class="headerlink" href="#highlights" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>No more <code class="docutils literal notranslate"><span class="pre">Problem</span></code>-s, only <code class="docutils literal notranslate"><span class="pre">Simulation</span></code>-s</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Data</span></code> is important</p></li>
<li><p>PEP 8 renaming</p></li>
<li><p>Dask parallelism</p></li>
<li><p>Resistivity Simulation improvements</p></li>
</ul>
</section>
<section id="simulation">
<h2>Simulation<a class="headerlink" href="#simulation" title="Permalink to this heading">#</a></h2>
<p>We will refer to this update as the simulation update, and there are a few large
changes that we will attempt to describe here.</p>
<p>We (the developers) believed that there were some significant challenges with the
overall structure of the SimPEG framework, which all revolved around constructing
a forward simulation by <code class="docutils literal notranslate"><span class="pre">pair</span></code>-ing a <code class="docutils literal notranslate"><span class="pre">Survey</span></code> and a <code class="docutils literal notranslate"><span class="pre">Problem</span></code>. The <code class="docutils literal notranslate"><span class="pre">Survey</span></code>
handled things like sources, receivers, and the <code class="docutils literal notranslate"><span class="pre">Problem</span></code> handled the physics
engine of the forward simulation. These two items had to be created separately,
then <code class="docutils literal notranslate"><span class="pre">pair</span></code>-ed afterwards for both the <code class="docutils literal notranslate"><span class="pre">Problem</span></code> to be able to use sources, and for
the <code class="docutils literal notranslate"><span class="pre">Survey</span></code> to predict data. We found that this structure made it difficult to
interface with other packages and was also generally difficult to explain. Also,
field data was then attached to the <code class="docutils literal notranslate"><span class="pre">Survey</span></code> class.</p>
<p>These changes within this section are also the ones which will require the most
changes to code (which are still hopefully small).</p>
<section id="the-simulation-class">
<h3>The <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> class<a class="headerlink" href="#the-simulation-class" title="Permalink to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Problem</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">Simulation</span></code></p>
<p>We decided to refactor this code into something a little more understandable.
The <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> class is now the workhorse of the SimPEG forward simulations.
It handles things like modeling fields and projecting those fields to the data
locations defined by its <code class="docutils literal notranslate"><span class="pre">survey</span></code>. The <code class="docutils literal notranslate"><span class="pre">Survey</span></code> class is much lighter weight,
now only handling the sources and receivers. Also a single <code class="docutils literal notranslate"><span class="pre">survey</span></code> can now be
attached to many <code class="docutils literal notranslate"><span class="pre">Simulation</span></code>-s.</p>
<p>Previously we had something like,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">survey</span> <span class="o">=</span> <span class="n">DC</span><span class="o">.</span><span class="n">Survey</span><span class="p">(</span><span class="n">srcList</span><span class="p">)</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">DC</span><span class="o">.</span><span class="n">Problem3D_CC</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">rhoMap</span><span class="o">=</span><span class="n">mapping</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">pair</span><span class="p">(</span><span class="n">survey</span><span class="p">)</span>

<span class="c1"># Compute the fields from `prob`</span>
<span class="n">fields</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">fields</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="c1"># And predict data using the `survey`</span>
<span class="n">dpred</span> <span class="o">=</span> <span class="n">survey</span><span class="o">.</span><span class="n">dpred</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="n">fields</span><span class="p">)</span>
</pre></div>
</div>
<p>Now,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">survey</span> <span class="o">=</span> <span class="n">resistivity</span><span class="o">.</span><span class="n">Survey</span><span class="p">([</span><span class="n">source_list</span><span class="p">])</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">resistivity</span><span class="o">.</span><span class="n">Simulation3DCellCentered</span><span class="p">(</span>
    <span class="n">mesh</span><span class="p">,</span>
    <span class="n">survey</span><span class="o">=</span><span class="n">survey</span><span class="p">,</span>
    <span class="n">rhoMap</span><span class="o">=</span><span class="n">mapping</span>
<span class="p">)</span>

<span class="c1"># Compute the fields from `sim`</span>
<span class="n">fields</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">fields</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="c1"># Predict data also using `sim`</span>
<span class="n">dpred</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">dpred</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="n">fields</span><span class="p">)</span>
</pre></div>
</div>
<p>See? The <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> handles predicting data. This change will also make it
easier to interface with external codes for inversion purposes, as all that is
needed to be defined to use a <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> for an <code class="docutils literal notranslate"><span class="pre">InvProblem</span></code>, is
<code class="docutils literal notranslate"><span class="pre">sim.dpred</span></code>, <code class="docutils literal notranslate"><span class="pre">sim.Jvec</span></code> and <code class="docutils literal notranslate"><span class="pre">sim.Jtvec</span></code>.</p>
<p>Please see the documentation for the <a class="reference internal" href="../api/generated/simpeg.simulation.BaseSimulation.html#simpeg.simulation.BaseSimulation" title="simpeg.simulation.BaseSimulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">simpeg.simulation.BaseSimulation</span></code></a> class
as well as the individual methods’ <code class="docutils literal notranslate"><span class="pre">Simulation</span></code>-s, for a detailed description of
arguments, but largely it accepts the same arguments as the <code class="docutils literal notranslate"><span class="pre">Problem</span></code> class,
but now also requires a <code class="docutils literal notranslate"><span class="pre">Survey</span></code> to be set.</p>
</section>
<section id="the-data-class">
<h3>The <code class="docutils literal notranslate"><span class="pre">Data</span></code> class<a class="headerlink" href="#the-data-class" title="Permalink to this heading">#</a></h3>
<p>Previously, field data would also live within the <code class="docutils literal notranslate"><span class="pre">Survey</span></code> class. Which was not
only confusing, but placed the importance on the wrong component. When inverting geophysical
data, we are concerned with the data. Thus we would like to enforce this importance
by making data live in a dedicated <code class="docutils literal notranslate"><span class="pre">Data</span></code> class. This <code class="docutils literal notranslate"><span class="pre">Data</span></code> class can act like a smart
dictionary to grab data associated with a specific source, receiver combination.
More importantly, this <code class="docutils literal notranslate"><span class="pre">Data</span></code> class is where we store information related to observed
data and its errors. This class started in the <code class="docutils literal notranslate"><span class="pre">simpeg.Survey</span></code> module, but has
now been moved into its own new module <code class="docutils literal notranslate"><span class="pre">simpeg.data</span></code>. See the documentation for
the <a class="reference internal" href="../api/generated/simpeg.data.Data.html#simpeg.data.Data" title="simpeg.data.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">simpeg.data.Data</span></code></a> for all of the details.</p>
<p>Previously,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add data to the survey</span>
<span class="n">survey</span><span class="o">.</span><span class="n">dobs</span> <span class="o">=</span> <span class="n">dobs</span>
<span class="n">survey</span><span class="o">.</span><span class="n">std</span> <span class="o">=</span> <span class="mf">0.05</span>  <span class="c1"># a 5% relative error</span>
<span class="n">survey</span><span class="o">.</span><span class="n">eps</span> <span class="o">=</span> <span class="mf">1.0E-6</span>  <span class="c1"># a noise floor</span>
</pre></div>
</div>
<p>Now,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a data object</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">Data</span><span class="p">(</span><span class="n">dobs</span><span class="o">=</span><span class="n">dobs</span><span class="p">,</span> <span class="n">relative_error</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">noise_floor</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">)</span>
</pre></div>
</div>
<p>You might also notice that we changed the name of the terms used to construct
the standard deviation. See issue <a class="reference external" href="https://github.com/simpeg/simpeg/issues/846">#846</a>.
Previously <code class="docutils literal notranslate"><span class="pre">survey.std</span></code> represented an error that was relative to the absolute
value of the data. The name of this term is misleading, as it is not actually
the classic statistical standard deviation.</p>
<p>Previously the uncertainty was constructed as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">uncertainty</span> <span class="o">=</span> <span class="n">survey</span><span class="o">.</span><span class="n">std</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">survey</span><span class="o">.</span><span class="n">dobs</span><span class="p">)</span> <span class="o">+</span> <span class="n">survey</span><span class="o">.</span><span class="n">eps</span>
</pre></div>
</div>
<p>We now have updated the names to be clearer and more in line with what we would
naturally expect, which is accessed from <cite>data.standard_deviation</cite>. The value
that is returned from this is now defined as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">standard_deviation</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">data</span><span class="o">.</span><span class="n">relative_error</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">dobs</span><span class="p">)</span> <span class="o">+</span>
    <span class="n">data</span><span class="o">.</span><span class="n">noise_floor</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You can also directly set the value of <code class="docutils literal notranslate"><span class="pre">data.standard_deviation</span></code> if you prefer
to work with that quantity.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">standard_deviation</span> <span class="o">=</span> <span class="mf">0.01</span>
</pre></div>
</div>
<p>This <code class="docutils literal notranslate"><span class="pre">Data</span></code> class is now also the object that is returned from:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">make_synthetic_data</span><span class="p">(</span>
    <span class="n">m</span><span class="p">,</span> <span class="n">relative_error</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">noise_floor</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">add_noise</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="the-datamisfit-class">
<h3>The <code class="docutils literal notranslate"><span class="pre">DataMisfit</span></code> class<a class="headerlink" href="#the-datamisfit-class" title="Permalink to this heading">#</a></h3>
<p>Previously, because the <code class="docutils literal notranslate"><span class="pre">Survey</span></code> class handled predicting data at the receivers,
and it also had knowledge of the observed data and its noise, we constructed the
data misfit measure using only the survey. Now we have specifically broken this
piece up into a forward <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> object, and a <code class="docutils literal notranslate"><span class="pre">Data</span></code> object. This mimics
the definition of the classic data misfit measure.</p>
<div class="math notranslate nohighlight">
\[\phi_d = \frac{1}{2}||\textbf{W}_d(\mathcal{F}(\vec{m}) - \vec{d}_{obs})||_2^2\]</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> class handles the forward operation, <span class="math notranslate nohighlight">\(\mathcal{F}\)</span>, and
the <code class="docutils literal notranslate"><span class="pre">Data</span></code> class handles the noise, <span class="math notranslate nohighlight">\(\textbf{W}_d=diag(\frac{1}{\sigma_i})\)</span>,
and the observed data, <span class="math notranslate nohighlight">\(\vec{d}_{obs}\)</span>. See the documentation for the
<a class="reference internal" href="../api/generated/simpeg.data_misfit.L2DataMisfit.html#simpeg.data_misfit.L2DataMisfit" title="simpeg.data_misfit.L2DataMisfit"><code class="xref py py-class docutils literal notranslate"><span class="pre">simpeg.data_misfit.L2DataMisfit</span></code></a> for all of the details.</p>
<p>Previously,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Survey knows how to predict data, knows the observed data,</span>
<span class="c1"># and its standard deviation</span>
<span class="n">dmis</span> <span class="o">=</span> <span class="n">DataMisfit</span><span class="o">.</span><span class="n">l2_DataMisfit</span><span class="p">(</span><span class="n">survey</span><span class="p">)</span>
</pre></div>
</div>
<p>Now,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a data misfit</span>
<span class="c1"># The data class now knows the observed data and its standard deviation.</span>
<span class="c1"># The simulation knows how to create data from a model.</span>
<span class="n">dmis</span> <span class="o">=</span> <span class="n">data_misfit</span><span class="o">.</span><span class="n">L2DataMisfit</span><span class="p">(</span><span class="n">simulation</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="dask">
<h2>Dask<a class="headerlink" href="#dask" title="Permalink to this heading">#</a></h2>
<p>We have begun a concerted effort to incorporate <code class="docutils literal notranslate"><span class="pre">dask</span></code> as a means to allow SimPEG
to scale to larger computers (and take advantage of parallelism). Checkout the
<code class="docutils literal notranslate"><span class="pre">dask</span></code> docs at <a class="reference external" href="https://docs.dask.org/en/latest/">https://docs.dask.org/en/latest/</a>.</p>
<p>This feature is experimental at the moment and can be toggled on like so,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">simpeg.dask</span>
</pre></div>
</div>
<p>which will then enable parallel operations for a few modules. It will specifically
replace these functions with <code class="docutils literal notranslate"><span class="pre">dask</span></code> versions,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">simpeg.potential_fields.BasePFSimulation.linear_operator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simpeg.potential_fields.magnetics.Simulation3DIntegral.getJtJdiag</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simpeg.potential_fields.gravity.Simulation3DIntegral.getJtJdiag</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simpeg.electromagnetics.static.resistivity.simulation.BaseDCSimulation.getJ</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simpeg.electromagnetics.static.resistivity.simulation.BaseDCSimulation.getJtJdiag</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simpeg.electromagnetics.static.induced_polarization.simulation.BaseDCSimulation.getJ</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simpeg.electromagnetics.static.induced_polarization.simulation.BaseDCSimulation.getJtJdiag</span></code></p></li>
</ul>
</section>
<section id="changelog">
<h2>Changelog<a class="headerlink" href="#changelog" title="Permalink to this heading">#</a></h2>
<p>As can be expected, there are many changes in this release, and we hope to identify
most of them here (or at least point you in the right direction).</p>
<section id="renamed-modules">
<h3>Renamed Modules<a class="headerlink" href="#renamed-modules" title="Permalink to this heading">#</a></h3>
<p>We have taken steps to rename the modules of SimPEG to a more PEP 8 friendly
system. The previous locations do not exist.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">EM</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.FDEM</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.frequency_domain</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.TDEM</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.time_domain</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.NSEM</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.natural_source</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.Static</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.static</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.Static.DC</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.static.resistivity</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.Static.DC.Utils</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.static.resistivity.utils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.Static.IP</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.static.induced_polarization</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.Static.SIP</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.static.spectral_induced_polarization</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.Static.Utils</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.static.utils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.Utils</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.utils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VRM</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.viscous_remanent_magnetization</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FLOW</span></code> → <code class="docutils literal notranslate"><span class="pre">flow</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SEIS</span></code> → <code class="docutils literal notranslate"><span class="pre">seismic</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PF</span></code> → <code class="docutils literal notranslate"><span class="pre">potential_fields</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PF.Gravity</span></code> → <code class="docutils literal notranslate"><span class="pre">potential_fields.gravity</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PF.GravAnalytics</span></code> → <code class="docutils literal notranslate"><span class="pre">potential_fields.gravity.analytics</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PF.Magnetics</span></code> → <code class="docutils literal notranslate"><span class="pre">potential_fields.magnetics</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PF.MagAnalytics</span></code> → <code class="docutils literal notranslate"><span class="pre">potential_fields.magnetics.analytics</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Utils</span></code> → <code class="docutils literal notranslate"><span class="pre">utils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataMisfit</span></code> → <code class="docutils literal notranslate"><span class="pre">data_misfit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Directives</span></code> → <code class="docutils literal notranslate"><span class="pre">directives</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Fields</span></code> → <code class="docutils literal notranslate"><span class="pre">fields</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">InvProblem</span></code> → <code class="docutils literal notranslate"><span class="pre">inverse_problem</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Inversion</span></code> → <code class="docutils literal notranslate"><span class="pre">inversion</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Maps</span></code> → <code class="docutils literal notranslate"><span class="pre">maps</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Models</span></code> → <code class="docutils literal notranslate"><span class="pre">models</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ObjectiveFunction</span></code> → <code class="docutils literal notranslate"><span class="pre">objective_function</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Optimization</span></code> → <code class="docutils literal notranslate"><span class="pre">optimization</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Props</span></code> → <code class="docutils literal notranslate"><span class="pre">props</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Survey</span></code> → <code class="docutils literal notranslate"><span class="pre">survey</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Problem</span></code> → <code class="docutils literal notranslate"><span class="pre">simulation</span></code></p></li>
</ul>
<p>Also generally modules with the following names have changed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">METHOD.SurveyMETHOD</span></code> → <code class="docutils literal notranslate"><span class="pre">method_name.survey</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">METHOD.SrcMETHOD</span></code> → <code class="docutils literal notranslate"><span class="pre">method_name.sources</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">METHOD.RxMETHOD</span></code> → <code class="docutils literal notranslate"><span class="pre">method_name.receivers</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">METHOD.ProblemMETHOD_xD</span></code> → <code class="docutils literal notranslate"><span class="pre">method_name.simulation_xd</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">METHOD.FieldsMETHOD</span></code> → <code class="docutils literal notranslate"><span class="pre">method_name.fields</span></code></p></li>
</ul>
<p>where <code class="docutils literal notranslate"><span class="pre">METHOD</span></code> was the old module name for the method and <code class="docutils literal notranslate"><span class="pre">method_name</span></code> is the new name.</p>
<p>Also many of the utilities modules within these are also being deprecated. Their
old names are still around and should throw a deprecation warning when loaded pointing
to the correct name.</p>
<p>For example,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Utils.codeutils</span></code> → <code class="docutils literal notranslate"><span class="pre">utils.code_utils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Utils.ModelBuilder</span></code> → <code class="docutils literal notranslate"><span class="pre">utils.model_builder</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EM.Utils.EMUtils</span></code> → <code class="docutils literal notranslate"><span class="pre">electromagnetics.utils.waveform_utils</span></code> (this one is a little less obvious)</p></li>
</ul>
</section>
<section id="problem-to-simulation">
<h3><code class="docutils literal notranslate"><span class="pre">Problem</span></code> to <code class="docutils literal notranslate"><span class="pre">Simulation</span></code><a class="headerlink" href="#problem-to-simulation" title="Permalink to this heading">#</a></h3>
<p>Many of the previous <code class="docutils literal notranslate"><span class="pre">Problem</span></code> classes are still within the modules, but
will now throw a deprecation warning which points to the updated <code class="docutils literal notranslate"><span class="pre">Simulation</span></code>.
The renaming scheme for the <code class="docutils literal notranslate"><span class="pre">Simulation</span></code>-s was decided in
<a class="reference external" href="https://github.com/simpeg/simpeg/issues/847">#857</a>.</p>
<p>For example,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Problem3D_CC</span></code> → <code class="docutils literal notranslate"><span class="pre">Simulation3DCellCentered</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Problem2D_CC</span></code> → <code class="docutils literal notranslate"><span class="pre">Simulation2DCellCentered</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Problem3D_e</span></code> → <code class="docutils literal notranslate"><span class="pre">Simulation3DElectricField</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Problem3D_b</span></code> → <code class="docutils literal notranslate"><span class="pre">Simulation3DMagneticFluxDensity</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Problem3D_h</span></code> → <code class="docutils literal notranslate"><span class="pre">Simulation3DMagneticField</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Problem3D_j</span></code> → <code class="docutils literal notranslate"><span class="pre">Simulation3DCurrentDensity</span></code></p></li>
<li><p>etc.</p></li>
</ul>
<p>Our current plan is to remove these deprecated versions in the 0.15.0 SimPEG
release.</p>
</section>
<section id="potential-field-reorganization">
<h3>Potential field reorganization<a class="headerlink" href="#potential-field-reorganization" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">potential_fields</span></code> module has likely received the largest amount of reorganization
to make it more in line with the structure of the other modules, and some things have
moved around and been renamed. There are now two separate modules within <code class="docutils literal notranslate"><span class="pre">potential_fields</span></code>:
<code class="docutils literal notranslate"><span class="pre">gravity</span></code> and <code class="docutils literal notranslate"><span class="pre">magnetics</span></code>. All of the classes in <code class="docutils literal notranslate"><span class="pre">PF.BaseGrav</span></code> have been
moved to <code class="docutils literal notranslate"><span class="pre">potential_fields.gravity</span></code>, and the classes in <code class="docutils literal notranslate"><span class="pre">PF.BaseMag</span></code> have been
moved to <code class="docutils literal notranslate"><span class="pre">potential_fields.magnetics</span></code>. The <code class="docutils literal notranslate"><span class="pre">Map</span></code>-s that were within them have
been deprecated and can instead be found in <code class="docutils literal notranslate"><span class="pre">simpeg.maps</span></code>.</p>
<p>The option of a <code class="docutils literal notranslate"><span class="pre">coordinate_system</span></code> for the magnetics simulation is no longer
valid and will throw an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>. Instead use the <a class="reference internal" href="../api/generated/simpeg.maps.SphericalSystem.html#simpeg.maps.SphericalSystem" title="simpeg.maps.SphericalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">simpeg.maps.SphericalSystem</span></code></a>.</p>
</section>
<section id="improvements-and-additions-to-resistivity">
<h3>Improvements and Additions to <code class="docutils literal notranslate"><span class="pre">resistivity</span></code><a class="headerlink" href="#improvements-and-additions-to-resistivity" title="Permalink to this heading">#</a></h3>
<p>We have made a few improvements to the <code class="docutils literal notranslate"><span class="pre">simpeg.electromagnetics.static.resistivity</span></code>
that were motivated by our work under the Geoscientists Without Borders project.</p>
<p>One is that we now have a 1D layered Earth simulation class,
<a class="reference internal" href="../api/generated/simpeg.electromagnetics.static.resistivity.Simulation1DLayers.html#simpeg.electromagnetics.static.resistivity.Simulation1DLayers" title="simpeg.electromagnetics.static.resistivity.simulation_1d.Simulation1DLayers"><code class="xref py py-class docutils literal notranslate"><span class="pre">simpeg.electromagnetics.static.resistivity.simulation_1d.Simulation1DLayers</span></code></a>,
that can be used to invert resistivity sounding data for conductivity and/or
thicknesses of a set number of layers.</p>
<p>The second, is a new <code class="docutils literal notranslate"><span class="pre">miniaturize</span></code> option for the 2D and 3D resistivity simulations.
This option causes the class to internally replace <code class="docutils literal notranslate"><span class="pre">Dipole</span></code> sources and receivers
with only unique <code class="docutils literal notranslate"><span class="pre">Pole</span></code> sources and receivers. This can result in a dramatic speedup
and reduced memory requirements when the input <code class="docutils literal notranslate"><span class="pre">survey</span></code> contains many more
<code class="docutils literal notranslate"><span class="pre">Dipole</span></code>-s than electrode locations. This is especially common in the wenner
type survey acquisitions that use a unique source and receiver for each measured
data point. This option is disabled by default, and can be enabled by passing the
<code class="docutils literal notranslate"><span class="pre">minaturize=True</span></code> keyword to the resistivity <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> upon initialization.</p>
<p>The third is automated <code class="docutils literal notranslate"><span class="pre">TreeMesh</span></code> construction within the <code class="docutils literal notranslate"><span class="pre">resistivity.IO</span></code> class for
a 2D survey.</p>
</section>
<section id="deprecations">
<h3>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this heading">#</a></h3>
<p>Some functions and properties have been renamed to more PEP 8 friendly names,
for example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Survey.makeSyntheticData</span></code> → <code class="docutils literal notranslate"><span class="pre">Simulation.make_synthetic_data</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Survey.srcList</span></code> → <code class="docutils literal notranslate"><span class="pre">Survey.source_list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Source.rxList</span></code> → <code class="docutils literal notranslate"><span class="pre">Source.receiver_list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Source.loc</span></code> → <code class="docutils literal notranslate"><span class="pre">Source.location</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Receiver.locs</span></code> → <code class="docutils literal notranslate"><span class="pre">Receiver.locations</span></code></p></li>
<li><p>etc…</p></li>
</ul>
<p>As mentioned before, the old names of these items will still be around, but
will throw <code class="docutils literal notranslate"><span class="pre">DeprecationWarnings</span></code> pointing the user to the new names.</p>
<p>We have done work to make this release as backwards compatible as possible, but can
not guarantee that all code will work. At the minimum, module imports must be changed.
The old style of <code class="docutils literal notranslate"><span class="pre">pair</span></code>-ing a survey will still work, in which case all of the older
functions will still work. This is only intended for old code to continue working,
and should not be relied upon for developing new code.</p>
<p>As noted all of the <code class="docutils literal notranslate"><span class="pre">Problem</span></code>-s are being deprecated and will be removed as of
version 0.15.0 of SimPEG. The deprecated utility models will also be removed then.</p>
</section>
</section>
<section id="pull-requests">
<h2>Pull Requests<a class="headerlink" href="#pull-requests" title="Permalink to this heading">#</a></h2>
<p>There were 25 pull requests contributing to this release.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/786">#786</a>: Simulation class refactor.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/792">#792</a>: Use scooby for Versions.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/802">#802</a>: Simulation jk.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/819">#819</a>: Simulation jk df.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/835">#835</a>: Add simulation PF tutorials to simulation PF branch</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/843">#843</a>: Fix drapeTopoLoc.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/844">#844</a>: Static receiver midpoint 3D.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/845">#845</a>: Tile map.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/848">#848</a>: Fix Ward and Hohmann example.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/849">#849</a>: Update and fix tutorials.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/851">#851</a>: Simulation method names .</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/853">#853</a>: CSEM TDEM 3D example.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/854">#854</a>: Simulation dc2.5 d speedup.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/861">#861</a>: Fix typo.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/863">#863</a>: light formatting to be closer to black, update filepaths to be os independent.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/864">#864</a>: Sim dask split.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/865">#865</a>: simulation fdem testing bug.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/866">#866</a>: waveform logic bug.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/868">#868</a>: This change was necessary for fields to be called correctly for dcip2…</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/869">#869</a>: Simulation tutorials 2.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/872">#872</a>: Uncertainty rename in simulation.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/874">#874</a>: Release notes for simulation as part of the Documentation.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/876">#876</a>: Simulation tutorials cleanup.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/879">#879</a>: Run black on SimPEG.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/pull/882">#882</a>: Replace html links to documentation with local links.</p></li>
</ul>
</section>
<section id="closed-issues">
<h2>Closed Issues<a class="headerlink" href="#closed-issues" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/865">#865</a>: FDEM: derivative test seems to ignore imag-real-flag</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/857">#857</a>: DOC: Broken link</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/850">#850</a>: Can’t set a waveform on initialized BaseTDEMSrc object</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/847">#847</a>: Renaming of methods’ Problems</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/846">#846</a>: Standard deviation and it’s place in the code base</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/842">#842</a>: Static drape topo not on surface.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/787">#787</a>: Plotting integrated sensitivity for DC resistivity problem.</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/765">#765</a>: DOC: Source code not linked, 404</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/751">#751</a>: run black on SimPEG</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/562">#562</a>: What’s the problem with <code class="docutils literal notranslate"><span class="pre">Problem</span></code>?</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/527">#527</a>: Remove MapPair, RxPair, Pair</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/524">#524</a>: Remove rxType from BaseRx</p></li>
<li><p><a class="reference external" href="https://github.com/simpeg/simpeg/issues/202">#202</a>: Using the DataClass</p></li>
</ul>
</section>
<section id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this heading">#</a></h2>
<p>Combining to produce over 500 commits (listed in no particular order):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/lheagy">&#64;lheagy</a></p></li>
<li><p><a class="reference external" href="https://github.com/jcapriot">&#64;jcapriot</a></p></li>
<li><p><a class="reference external" href="https://github.com/fourndo">&#64;fourndo</a>  / <a class="reference external" href="https://github.com/domfournier">&#64;domfournier</a></p></li>
<li><p><a class="reference external" href="https://github.com/sgkang">&#64;sgkang</a></p></li>
<li><p><a class="reference external" href="https://github.com/dccowan">&#64;dccowan</a></p></li>
<li><p><a class="reference external" href="https://github.com/JKutt">&#64;JKutt</a></p></li>
<li><p><a class="reference external" href="https://github.com/prisae">&#64;prisae</a></p></li>
<li><p><a class="reference external" href="https://github.com/craigmillernz">&#64;craigmillernz</a></p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="0.14.1-notes.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">SimPEG 0.14.1 Release Notes</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#highlights">Highlights</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simulation">Simulation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-simulation-class">The <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> class</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-data-class">The <code class="docutils literal notranslate"><span class="pre">Data</span></code> class</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-datamisfit-class">The <code class="docutils literal notranslate"><span class="pre">DataMisfit</span></code> class</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dask">Dask</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changelog">Changelog</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#renamed-modules">Renamed Modules</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#problem-to-simulation"><code class="docutils literal notranslate"><span class="pre">Problem</span></code> to <code class="docutils literal notranslate"><span class="pre">Simulation</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#potential-field-reorganization">Potential field reorganization</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#improvements-and-additions-to-resistivity">Improvements and Additions to <code class="docutils literal notranslate"><span class="pre">resistivity</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecations">Deprecations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pull-requests">Pull Requests</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#closed-issues">Closed Issues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#contributors">Contributors</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/content/release/0.14.0-notes.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>